{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\emily.lombarde\\\\Documents\\\\SocialGlobo\\\\src\\\\pages\\\\signIn\\\\index.js\";\nimport React, { useState } from 'react';\nimport { StackActions, NavigationActions } from 'react-navigation';\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport PropTypes from 'prop-types';\nimport api from \"../../services/api\";\nimport { Container, Title, TextInformation, Error, Form, Input, Button, ButtonText } from \"./styles\";\nexport default function Welcome(props) {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      errorMessage = _useState8[0],\n      setErrorMessage = _useState8[1];\n\n  function signIn() {\n    var resetAction;\n    return _regeneratorRuntime.async(function signIn$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(username.length === 0)) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 2:\n            setLoading(true);\n            resetAction = StackActions.reset({\n              index: 0,\n              actions: [NavigationActions.navigate({\n                routeName: 'App'\n              })]\n            });\n            setLoading(false);\n            props.navigation.dispatch(resetAction);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, React.createElement(StatusBar, {\n    barStyle: \"light-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }), React.createElement(Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, \"GloboSocial\"), React.createElement(Form, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, React.createElement(Input, {\n    autoCapitalize: \"none\",\n    autoCorrect: false,\n    placeholder: \"E-mail\",\n    underlineColorAndroid: \"rgba(0, 0, 0, 0)\",\n    value: username,\n    onChangeText: function onChangeText(username) {\n      return setUsername(username);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }), React.createElement(Input, {\n    autoCapitalize: \"none\",\n    autoCorrect: false,\n    placeholder: \"Senha\",\n    underlineColorAndroid: \"rgba(0, 0, 0, 0)\",\n    secureTextEntry: true,\n    value: password,\n    onChangeText: function onChangeText(password) {\n      return setPassword(password);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }), React.createElement(Button, {\n    onPress: signIn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, loading ? React.createElement(ActivityIndicator, {\n    size: \"small\",\n    color: \"#FFF\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }) : React.createElement(ButtonText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, \"Prosseguir\"))));\n}\n\nWelcome.navigationOptions = function () {\n  return {\n    header: null\n  };\n};\n\nWelcome.propTypes = {\n  navigation: PropTypes.shape({\n    dispatch: PropTypes.func\n  }).isRequired\n};","map":{"version":3,"sources":["C:/Users/emily.lombarde/Documents/SocialGlobo/src/pages/signIn/index.js"],"names":["React","useState","StackActions","NavigationActions","PropTypes","api","Container","Title","TextInformation","Error","Form","Input","Button","ButtonText","Welcome","props","username","setUsername","password","setPassword","loading","setLoading","errorMessage","setErrorMessage","signIn","length","resetAction","reset","index","actions","navigate","routeName","navigation","dispatch","navigationOptions","header","propTypes","shape","func","isRequired"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { StackActions, NavigationActions } from 'react-navigation'\r\nimport { StatusBar, ActivityIndicator, AsyncStorage } from 'react-native'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport api from '../../services/api'\r\n\r\nimport {\r\n  Container,\r\n  Title,\r\n  TextInformation,\r\n  Error,\r\n  Form,\r\n  Input,\r\n  Button,\r\n  ButtonText,\r\n} from './styles'\r\n\r\nexport default function Welcome(props) {\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n  // async function saveUser(user) {\r\n  //   await AsyncStorage.setItem('@ListApp:userToken', JSON.stringify(user))\r\n  // }\r\n\r\n  async function signIn() {\r\n    if (username.length === 0) return\r\n\r\n    setLoading(true)\r\n\r\n    const resetAction = StackActions.reset({\r\n      index: 0,\r\n      actions: [NavigationActions.navigate({ routeName: 'App' })],\r\n    })\r\n\r\n    setLoading(false)\r\n\r\n    props.navigation.dispatch(resetAction)\r\n\r\n    // try {\r\n\r\n    //   const credentials = {\r\n    //     email: username,\r\n    //     password: password\r\n    //   }\r\n\r\n    //   const response = await api.post('/sessions', credentials)\r\n\r\n    //   const user = response.data\r\n\r\n    //   await saveUser(user)\r\n\r\n    //   const resetAction = StackActions.reset({\r\n    //     index: 0,\r\n    //     actions: [NavigationActions.navigate({ routeName: 'App' })],\r\n    //   })\r\n\r\n    //   setLoading(false)\r\n\r\n    //   props.navigation.dispatch(resetAction)\r\n    // } catch (err) {\r\n    //   console.log(err)\r\n\r\n    //   setLoading(false)\r\n    //   setErrorMessage('Usuário não existe')\r\n    // }\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <StatusBar barStyle=\"light-content\" />\r\n\r\n      <Title>GloboSocial</Title>\r\n      \r\n\r\n      {/* {!!errorMessage && <Error>{errorMessage}</Error>} */}\r\n\r\n      <Form>\r\n        <Input\r\n          autoCapitalize=\"none\"\r\n          autoCorrect={false}\r\n          placeholder=\"E-mail\"\r\n          underlineColorAndroid=\"rgba(0, 0, 0, 0)\"\r\n          value={username}\r\n          onChangeText={username => setUsername(username)}\r\n        />\r\n\r\n        <Input\r\n          autoCapitalize=\"none\"\r\n          autoCorrect={false}\r\n          placeholder=\"Senha\"\r\n          underlineColorAndroid=\"rgba(0, 0, 0, 0)\"\r\n          secureTextEntry={true}\r\n          value={password}\r\n          onChangeText={password => setPassword(password)}\r\n        />\r\n\r\n        <Button onPress={signIn}>\r\n          {loading ? (\r\n            <ActivityIndicator size=\"small\" color=\"#FFF\" />\r\n          ) : (\r\n            <ButtonText>Prosseguir</ButtonText>\r\n          )}\r\n        </Button>\r\n      </Form>\r\n    </Container>\r\n  )\r\n}\r\n\r\nWelcome.navigationOptions = () => {\r\n  return {\r\n    header: null,\r\n  }\r\n}\r\n\r\nWelcome.propTypes = {\r\n  navigation: PropTypes.shape({\r\n    dispatch: PropTypes.func,\r\n  }).isRequired,\r\n}"]},"metadata":{},"sourceType":"module"}