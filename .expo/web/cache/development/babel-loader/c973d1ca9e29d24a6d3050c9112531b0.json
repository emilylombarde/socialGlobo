{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\emily.lombarde\\\\Documents\\\\SocialGlobo\\\\src\\\\pages\\\\signIn\\\\index.js\";\nimport React, { useState } from 'react';\nimport { StackActions, NavigationActions } from 'react-navigation';\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport PropTypes from 'prop-types';\nimport { navigate } from \"../../utils\";\nimport api from \"../../services/api\";\nimport { Container, Title, TextInformation, Error, Form, Input, Button, ButtonText } from \"./styles\";\nexport default function signIn(props) {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      errorMessage = _useState8[0],\n      setErrorMessage = _useState8[1];\n\n  function saveUser(user) {\n    return _regeneratorRuntime.async(function saveUser$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('@ListApp:userToken', JSON.stringify(user)));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function signIn() {\n    var resetAction;\n    return _regeneratorRuntime.async(function signIn$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!(username.length === 0)) {\n              _context2.next = 2;\n              break;\n            }\n\n            return _context2.abrupt(\"return\");\n\n          case 2:\n            setLoading(true);\n            resetAction = StackActions.reset({\n              index: 0,\n              actions: [navigate('App')]\n            });\n            setLoading(false);\n            props.navigation.dispatch(resetAction);\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, React.createElement(StatusBar, {\n    barStyle: \"light-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }), React.createElement(Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, \"GloboSocial\"), React.createElement(TextInformation, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, \"Para continuar, precisamos que voc\\xEA informe seu usu\\xE1rio\"), !!errorMessage && React.createElement(Error, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 26\n    }\n  }, errorMessage), React.createElement(Form, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, React.createElement(Input, {\n    autoCapitalize: \"none\",\n    autoCorrect: false,\n    placeholder: \"E-mail\",\n    underlineColorAndroid: \"rgba(0, 0, 0, 0)\",\n    value: username,\n    onChangeText: function onChangeText(username) {\n      return setUsername(username);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }), React.createElement(Input, {\n    autoCapitalize: \"none\",\n    autoCorrect: false,\n    placeholder: \"Senha\",\n    underlineColorAndroid: \"rgba(0, 0, 0, 0)\",\n    secureTextEntry: true,\n    value: password,\n    onChangeText: function onChangeText(password) {\n      return setPassword(password);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }), React.createElement(Button, {\n    onPress: signIn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, loading ? React.createElement(ActivityIndicator, {\n    size: \"small\",\n    color: \"#FFF\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }) : React.createElement(ButtonText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, \"Entrar\"))));\n}\n\nsignIn.navigationOptions = function () {\n  return {\n    header: null\n  };\n};\n\nsignIn.propTypes = {\n  navigation: PropTypes.shape({\n    dispatch: PropTypes.func\n  }).isRequired\n};","map":{"version":3,"sources":["C:/Users/emily.lombarde/Documents/SocialGlobo/src/pages/signIn/index.js"],"names":["React","useState","StackActions","NavigationActions","PropTypes","navigate","api","Container","Title","TextInformation","Error","Form","Input","Button","ButtonText","signIn","props","username","setUsername","password","setPassword","loading","setLoading","errorMessage","setErrorMessage","saveUser","user","AsyncStorage","setItem","JSON","stringify","length","resetAction","reset","index","actions","navigation","dispatch","navigationOptions","header","propTypes","shape","func","isRequired"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { StackActions, NavigationActions } from 'react-navigation'\r\nimport { StatusBar, ActivityIndicator, AsyncStorage } from 'react-native'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { navigate } from '../../utils'\r\nimport api from '../../services/api'\r\n\r\nimport {\r\n  Container,\r\n  Title,\r\n  TextInformation,\r\n  Error,\r\n  Form,\r\n  Input,\r\n  Button,\r\n  ButtonText,\r\n} from './styles'\r\n\r\nexport default function signIn(props) {\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n  async function saveUser(user) {\r\n    await AsyncStorage.setItem('@ListApp:userToken', JSON.stringify(user))\r\n  }\r\n\r\n  async function signIn() {\r\n    if (username.length === 0) return\r\n\r\n    setLoading(true)\r\n\r\n    const resetAction = StackActions.reset({\r\n      index: 0,\r\n      // actions: [NavigationActions.navigate({ routeName: 'App' })],\r\n      actions: [navigate('App')],\r\n    })\r\n\r\n    setLoading(false)\r\n\r\n    props.navigation.dispatch(resetAction)\r\n\r\n    // try {\r\n\r\n    //   const credentials = {\r\n    //     email: username,\r\n    //     password: password\r\n    //   }\r\n\r\n    //   const response = await api.post('/sessions', credentials)\r\n\r\n    //   const user = response.data\r\n\r\n    //   await saveUser(user)\r\n\r\n    //   const resetAction = StackActions.reset({\r\n    //     index: 0,\r\n    //     actions: [NavigationActions.navigate({ routeName: 'App' })],\r\n    //   })\r\n\r\n    //   setLoading(false)\r\n\r\n    //   props.navigation.dispatch(resetAction)\r\n    // } catch (err) {\r\n    //   console.log(err)\r\n\r\n    //   setLoading(false)\r\n    //   setErrorMessage('Usuário não existe')\r\n    // }\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <StatusBar barStyle=\"light-content\" />\r\n\r\n      <Title>GloboSocial</Title>\r\n      <TextInformation>\r\n        Para continuar, precisamos que você informe seu usuário\r\n      </TextInformation>\r\n\r\n      {!!errorMessage && <Error>{errorMessage}</Error>}\r\n\r\n      <Form>\r\n        <Input\r\n          autoCapitalize=\"none\"\r\n          autoCorrect={false}\r\n          placeholder=\"E-mail\"\r\n          underlineColorAndroid=\"rgba(0, 0, 0, 0)\"\r\n          value={username}\r\n          onChangeText={username => setUsername(username)}\r\n        />\r\n\r\n        <Input\r\n          autoCapitalize=\"none\"\r\n          autoCorrect={false}\r\n          placeholder=\"Senha\"\r\n          underlineColorAndroid=\"rgba(0, 0, 0, 0)\"\r\n          secureTextEntry={true}\r\n          value={password}\r\n          onChangeText={password => setPassword(password)}\r\n        />\r\n\r\n        <Button onPress={signIn}>\r\n          {loading ? (\r\n            <ActivityIndicator size=\"small\" color=\"#FFF\" />\r\n          ) : (\r\n            <ButtonText>Entrar</ButtonText>\r\n          )}\r\n        </Button>\r\n      </Form>\r\n    </Container>\r\n  )\r\n}\r\n\r\nsignIn.navigationOptions = () => {\r\n  return {\r\n    header: null,\r\n  }\r\n}\r\n\r\nsignIn.propTypes = {\r\n  navigation: PropTypes.shape({\r\n    dispatch: PropTypes.func,\r\n  }).isRequired,\r\n}"]},"metadata":{},"sourceType":"module"}